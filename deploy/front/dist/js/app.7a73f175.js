(function(e){function t(t){for(var s,r,a=t[0],l=t[1],c=t[2],p=0,d=[];p<a.length;p++)r=a[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],s=!0,a=1;a<o.length;a++){var l=o[a];0!==i[l]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=o[0]))}return e}var s={},i={app:0},n=[];function r(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=s,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(o,s,function(t){return e[t]}.bind(null,s));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0639":function(e,t,o){"use strict";o("5472")},"065c":function(e,t,o){"use strict";o("95a4")},1571:function(e,t,o){"use strict";o("d8ad")},"1fc8":function(e,t,o){},5472:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);var s=o("2b0e"),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},n=[],r=(o("065c"),o("2877")),a={},l=Object(r["a"])(a,i,n,!1,null,null,null),c=l.exports,u=o("8c4f"),p=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"home-container"},[e.loading?t("div",{staticClass:"loading-container"},[t("el-skeleton",{attrs:{rows:10,animated:""}})],1):t("div",[t("question-filters",{ref:"filtersComponent",attrs:{"filter-options":e.filterOptions,"initial-filters":e.filters,"initial-keyword":e.searchKeyword},on:{"filter-change":e.handleFilterChange,search:e.searchQuestions,"keyword-change":e.handleKeywordChange}}),t("question-table",{attrs:{questions:e.tableData,total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"page-change":e.handleCurrentChange,"page-size-change":e.handleSizeChange,"view-question":e.viewQuestion}})],1)])},d=[],h=(o("14d9"),o("e9f5"),o("910d"),o("f665"),o("ab43"),o("a732"),o("88a7"),o("271a"),o("5494"),o("bc3a")),g=o.n(h);const f=[{id:1,title:"在浏览器地址栏输入一个URL回车，告诉我会进行哪些技术步骤?",content:"当在浏览器地址栏输入URL并按下回车键后，会发生以下步骤：\n\n1. URL解析\n2. DNS查询\n3. TCP连接建立（三次握手）\n4. 发送HTTP请求\n5. 服务器处理请求并返回HTTP响应\n6. 浏览器解析HTML\n7. 构建DOM树和CSSOM树\n8. JavaScript解析和执行\n9. 布局和绘制\n10. TCP连接关闭（四次挥手）",editTime:"2024-09-25",read:11483,post:"前端",company:"互联网",status:1},{id:2,title:"如何排查一条慢SQL? 可以从哪些方面入手?",content:"排查慢SQL的方法：\n\n1. 使用EXPLAIN分析SQL执行计划\n2. 检查索引使用情况\n3. 查看MySQL慢查询日志\n4. 使用SHOW PROFILE分析SQL执行各阶段耗时\n5. 检查表结构和数据量\n6. 优化JOIN操作和子查询\n7. 检查WHERE条件和ORDER BY语句\n8. 使用性能监控工具如Performance Schema\n9. 考虑数据库配置参数调优\n10. 重写SQL语句，避免全表扫描",editTime:"2023-08-02",read:12687,post:"后端",company:"互联网",status:1},{id:3,title:"说一说你了解的关于lambda表达式的全部知识",content:"Lambda表达式是Java 8引入的一个重要特性，允许将函数作为方法参数传递。主要知识点包括：\n\n1. 基本语法：(参数) -> 表达式或语句块\n2. 函数式接口：只有一个抽象方法的接口，可以使用@FunctionalInterface注解\n3. 常用函数式接口：Predicate、Consumer、Function、Supplier等\n4. 方法引用：Class::method语法\n5. 变量捕获：Lambda可以访问外部作用域的final或effectively final变量\n6. Stream API：结合Lambda使用进行集合操作\n7. 并行处理：使用parallelStream()进行并行操作\n8. 默认方法：接口中可以有默认实现的方法\n9. Optional类：避免空指针异常\n10. 性能考虑：Lambda在某些情况下可能引入额外开销",editTime:"2023-07-06",read:13592,post:"Java",company:"互联网",status:1},{id:4,title:"数据库的事务隔离级别有哪些?",content:"数据库事务隔离级别从低到高分为四种：\n\n1. 读未提交（Read Uncommitted）：允许读取未提交的数据变更，可能会导致脏读、不可重复读和幻读。\n\n2. 读已提交（Read Committed）：只允许读取已提交的数据，可以避免脏读，但可能出现不可重复读和幻读。\n\n3. 可重复读（Repeatable Read）：确保同一事务中多次读取同样数据的结果是一致的，避免了脏读和不可重复读，但可能出现幻读。MySQL InnoDB默认使用此级别。\n\n4. 串行化（Serializable）：最高的隔离级别，完全串行化执行，避免了所有并发问题，但性能最差。\n\n各种问题说明：\n- 脏读：读取到其他事务未提交的数据\n- 不可重复读：同一事务内多次读取同一数据集合，结果不一致（主要是数据被修改）\n- 幻读：同一事务内多次读取同一范围的记录，数量不一致（主要是数据被插入或删除）",editTime:"2024-11-05",read:3710,post:"后端",company:"互联网",status:1},{id:5,title:"如何设计一个高性能/高并发/高可用/可扩展的系统?",content:"设计高性能、高并发、高可用、可扩展系统的关键点：\n\n1. 系统架构\n   - 分层架构：表现层、业务层、数据访问层\n   - 微服务架构：服务解耦，独立部署和扩展\n   - 无状态设计：便于水平扩展\n\n2. 高性能\n   - 缓存策略：多级缓存（本地缓存、分布式缓存）\n   - 异步处理：消息队列解耦\n   - 数据库优化：索引设计、SQL优化、分库分表\n   - CDN加速静态资源\n\n3. 高并发\n   - 水平扩展：增加服务器实例\n   - 负载均衡：请求分发\n   - 限流：令牌桶、漏桶算法\n   - 降级：非核心功能降级\n   - 熔断：防止级联故障\n\n4. 高可用\n   - 冗余设计：多副本\n   - 故障转移：主备切换\n   - 服务发现：动态感知服务状态\n   - 灾备：异地多活\n\n5. 可扩展\n   - 模块化设计：低耦合高内聚\n   - 接口抽象：依赖倒置原则\n   - 配置中心：动态配置\n   - 容器化和编排：Kubernetes\n\n6. 监控与运维\n   - 全链路监控：Trace ID跟踪\n   - 性能指标监控：QPS、响应时间、错误率\n   - 日志集中管理：ELK\n   - 自动化运维：CI/CD",editTime:"2023-07-27",read:6256,post:"架构师",company:"互联网",status:1}],m={posts:["前端","后端","Java","架构师","C++","Python","Go"],companies:["互联网","阿里","腾讯","字节","百度","美团","京东","华为"]},F="/api",y=!1;var C={getQuestionsByPage(e,t,o){if(y){let s=[...f];if(o.keyword){const e=o.keyword.toLowerCase();s=s.filter(t=>t.title.toLowerCase().includes(e)||t.content&&t.content.toLowerCase().includes(e))}o.post&&(s=s.filter(e=>e.post===o.post)),o.company&&(s=s.filter(e=>e.company===o.company));const i=s.length,n=(e-1)*t,r=Math.min(n+t,i),a=s.slice(n,r);return Promise.resolve({data:{total:i,data:a,page:e,size:t}})}const s=new URLSearchParams({page:e,size:t});return o.post&&s.append("post",o.post),o.company&&s.append("company",o.company),o.keyword&&s.append("keyword",o.keyword),o.time&&s.append("timeRange",o.time),g.a.get(`${F}/questions?${s.toString()}`)},getAllQuestions(){return y?Promise.resolve({data:f}):g.a.get(F+"/questions/all")},getQuestionById(e){if(y){const t=f.find(t=>t.id===parseInt(e));return Promise.resolve({data:t||{}})}return g.a.get(`${F}/questions/${e}`)},getFilterOptions(){return y?Promise.resolve({data:m}):g.a.get(F+"/questions/options")},searchQuestions(e){if(y){const t=e?f.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.content&&t.content.toLowerCase().includes(e.toLowerCase())):f;return Promise.resolve({data:t})}return g.a.get(`${F}/questions/search?keyword=${encodeURIComponent(e)}`)},getQuestionsByCompanies(e){if(y){console.log("使用模拟数据获取公司系列问题:",e);const t=f.filter(t=>t.company&&e.some(e=>t.company.includes(e)||e.includes(t.company)));return Promise.resolve({data:t})}if(console.log("调用API获取公司系列问题:",e),!e||!Array.isArray(e)||0===e.length)return Promise.resolve({data:[]});const t=e.map(e=>encodeURIComponent(e)).join(",");return g.a.get(`${F}/questions/bySeries?companies=${t}`)}},b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter-container"},[t("div",{staticClass:"filter-row"},[t("el-select",{attrs:{placeholder:"岗位",clearable:""},on:{change:e.onFilterChange},model:{value:e.filters.post,callback:function(t){e.$set(e.filters,"post",t)},expression:"filters.post"}},e._l(e.filterOptions.posts,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-select",{attrs:{placeholder:"公司",clearable:""},on:{change:e.onFilterChange},model:{value:e.filters.company,callback:function(t){e.$set(e.filters,"company",t)},expression:"filters.company"}},e._l(e.filterOptions.companies,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-select",{attrs:{placeholder:"互联网大厂",clearable:""},on:{change:e.onFilterChange},model:{value:e.filters.companySeries,callback:function(t){e.$set(e.filters,"companySeries",t)},expression:"filters.companySeries"}},[t("el-option",{attrs:{label:"全部",value:""}}),e._l(e.companySeriesList,(function(o){return t("el-option",{key:o,attrs:{label:o,value:o}},[t("span",[e._v(e._s(o))]),e.companyAliases[o]?t("span",{staticClass:"company-aliases"},[e._v(" ("+e._s(e.companyAliases[o].slice(0,3).join("/"))+e._s(e.companyAliases[o].length>3?"/...":"")+") ")]):e._e()])}))],2),t("el-select",{attrs:{placeholder:"考察时间",clearable:""},on:{change:e.onFilterChange},model:{value:e.filters.time,callback:function(t){e.$set(e.filters,"time",t)},expression:"filters.time"}},[t("el-option",{attrs:{label:"全部时间",value:""}}),t("el-option",{attrs:{label:"最近一周",value:"week"}}),t("el-option",{attrs:{label:"最近一月",value:"month"}}),t("el-option",{attrs:{label:"最近三月",value:"quarter"}}),t("el-option",{attrs:{label:"最近一年",value:"year"}})],1)],1),t("div",{staticClass:"search-row"},[t("el-input",{attrs:{placeholder:"搜索面试题...",clearable:""},on:{clear:e.onSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.onSearch},slot:"append"})],1)],1)])},w=[];const S={"字节系":["字节跳动","字节"],"阿里系":["阿里巴巴","阿里","蚂蚁集团","蚂蚁","菜鸟","饿了么","哈啰"],"腾讯系":["腾讯","微信"],"百度":["百度"],"美团":["美团"],"京东":["京东"],"华为":["华为"],"小米":["小米"],"拼多多":["拼多多"],"哔哩哔哩":["哔哩哔哩","B站"],"网易系":["网易"]},v=()=>Object.keys(S);var k={name:"QuestionFilters",props:{filterOptions:{type:Object,default:()=>({posts:[],companies:[]})},initialFilters:{type:Object,default:()=>({post:"",company:"",companySeries:"",time:""})},initialKeyword:{type:String,default:""}},data(){return{filters:{...this.initialFilters},keyword:this.initialKeyword,companyAliases:S,companySeriesList:[]}},created(){this.companySeriesList=v()},methods:{onFilterChange(){console.log("筛选条件变化前:",JSON.stringify(this.filters)),this.filters.companySeries&&this.filters.company&&(console.log("同时选择了公司系列和公司，清空公司筛选"),this.filters.company=""),console.log("筛选条件变化后:",JSON.stringify(this.filters)),this.$emit("filter-change",{filters:{...this.filters},keyword:this.keyword})},onSearch(){this.$emit("search",this.keyword)},resetFilters(){this.filters={post:"",company:"",companySeries:"",time:""},this.keyword="",this.$emit("filter-change",{filters:{...this.filters},keyword:this.keyword})},updateFilters(e,t){console.log("QuestionFilters组件更新筛选条件，前:",JSON.stringify(this.filters)),console.log("QuestionFilters组件新筛选条件:",JSON.stringify(e),t),e&&(this.filters=JSON.parse(JSON.stringify(e))),void 0!==t&&(this.keyword=t),console.log("QuestionFilters组件更新后的筛选条件:",JSON.stringify(this.filters)),this.$nextTick(()=>{this.filters.companySeries&&this.filters.company&&(console.log("updateFilters检测到公司系列和公司同时存在，以公司系列为准"),this.filters.company=""),this.$emit("filter-change",{filters:{...this.filters},keyword:this.keyword}),console.log("QuestionFilters组件已发送filter-change事件")})}},watch:{initialFilters:{handler(e){console.log("QuestionFilters监听到initialFilters变化:",e),this.filters={...e}},deep:!0,immediate:!0},initialKeyword:{handler(e){console.log("QuestionFilters监听到initialKeyword变化:",e),this.keyword=e},immediate:!0},keyword(e){this.$emit("keyword-change",e)}}},E=k,P=(o("0639"),Object(r["a"])(E,b,w,!1,null,"05763351",null)),O=P.exports,Q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-container"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.questions,"row-class-name":e.tableRowClassName},on:{"row-click":e.handleRowClick}},[t("el-table-column",{attrs:{prop:"id",label:"No.",width:"70"}}),t("el-table-column",{attrs:{prop:"title",label:"题目","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("router-link",{staticClass:"question-title",attrs:{to:"/question/"+o.row.id}},[e._v(e._s(o.row.title))])]}}])}),t("el-table-column",{attrs:{label:"标签",width:"200"},scopedSlots:e._u([{key:"default",fn:function(o){return[o.row.post?t("el-tag",{staticClass:"post-tag",style:e.getPostTagStyle(o.row.post),attrs:{size:"mini"}},[e._v(e._s(o.row.post))]):e._e(),o.row.company?t("el-tag",{staticClass:"company-tag",style:e.getCompanyTagStyle(o.row.company),attrs:{size:"mini"}},[e._v(e._s(o.row.company))]):e._e()]}}])}),t("el-table-column",{attrs:{label:"面试时间",width:"150"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e.formatDateString(o.row.editTime))+" ")]}}])}),t("el-table-column",{attrs:{prop:"read",label:"阅读量",width:"150"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",{staticClass:"view-count"},[t("i",{staticClass:"el-icon-view"}),e._v(" "+e._s(o.row.read)+" ")])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return t.stopPropagation(),e.viewQuestion(o.row.id)}}},[e._v("查看")])]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.onPageSizeChange,"current-change":e.onPageChange}})],1)],1)},_=[];function T(e){if(!e)return 0;let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t&=t;return Math.abs(t)}function L(e){if(!e)return{};const t=["#2db7f5","#87d068","#108ee9","#f50","#13c2c2","#1890ff","#722ed1","#eb2f96","#fa8c16","#a0d911","#52c41a","#faad14","#fadb14","#a0d911","#7cb305","#08979c","#096dd9","#1677ff","#f759ab","#fa541c"],o=T(e),s=o%t.length,i=t[s];return{color:i,backgroundColor:i+"10",borderColor:i,marginRight:"5px"}}function q(e){if(!e)return{};let t="";if(e.includes("前端")||e.toLowerCase().includes("frontend")||e.toLowerCase().includes("web"))t="#1890ff";else if(e.includes("后端")||e.toLowerCase().includes("backend")||e.toLowerCase().includes("java"))t="#52c41a";else if(e.includes("算法")||e.toLowerCase().includes("algorithm"))t="#722ed1";else if(e.includes("产品")||e.toLowerCase().includes("product"))t="#fa8c16";else if(e.includes("设计")||e.toLowerCase().includes("design"))t="#eb2f96";else if(e.includes("测试")||e.toLowerCase().includes("test")||e.toLowerCase().includes("qa"))t="#13c2c2";else{const o=["#2db7f5","#87d068","#108ee9","#f50","#13c2c2","#1890ff","#722ed1","#eb2f96"],s=T(e),i=s%o.length;t=o[i]}return{color:t,backgroundColor:t+"10",borderColor:t,marginRight:"5px"}}function $(e){if(!e)return"";const t=new Date(e),o=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${o}-${s}-${i}`}var D={name:"QuestionTable",props:{questions:{type:Array,required:!0},total:{type:Number,required:!0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10}},methods:{onPageChange(e){console.log("QuestionTable页码变化:",e),this.$emit("page-change",e)},onPageSizeChange(e){console.log("QuestionTable页面大小变化:",e),this.$emit("page-size-change",e)},viewQuestion(e){console.log("QuestionTable查看问题:",e),this.$emit("view-question",e)},handleRowClick(e){this.viewQuestion(e.id)},tableRowClassName({rowIndex:e}){return e%2===0?"even-row":"odd-row"},getCompanyTagStyle:L,getPostTagStyle:q,formatDateString:$},watch:{currentPage(e){console.log("QuestionTable监听到currentPage变化:",e)},pageSize(e){console.log("QuestionTable监听到pageSize变化:",e)}}},A=D,z=(o("b3b1"),Object(r["a"])(A,Q,_,!1,null,"4e91723b",null)),B=z.exports,R={name:"Home",components:{QuestionFilters:O,QuestionTable:B},data(){return{tableData:[],allQuestions:[],total:0,loading:!1,searchKeyword:"",filters:{post:"",company:"",companySeries:"",time:""},filterOptions:{posts:[],companies:[]},currentPage:1,pageSize:10,isRestoringSession:!1,isInitialLoad:!0,shouldRestoreSession:!1}},created(){console.log("页面创建，开始初始化..."),this.isRestoringSession=!1,this.isInitialLoad=!0,this.loading=!0;const e=localStorage.getItem("filterOptions");if(e)try{this.filterOptions=JSON.parse(e),console.log("从缓存恢复筛选选项:",this.filterOptions)}catch(t){console.error("解析缓存的筛选选项失败:",t),this.fetchFilterOptions()}else this.fetchFilterOptions();this.restoreFiltersFromSession(),setTimeout(()=>{0!==this.tableData.length||this.loading||(console.log("安全检查：数据未加载，尝试重新应用筛选"),this.fetchPagedQuestions())},2e3)},mounted(){const e=sessionStorage.getItem("scrollPosition");e&&window.scrollTo(0,parseInt(e))},beforeRouteLeave(e,t,o){this.saveFiltersToSession(),o()},methods:{fetchPagedQuestions(){console.log("分页获取面试题数据，应用筛选条件:",JSON.stringify(this.filters)),this.loading=!0;const e={post:this.filters.post,company:this.filters.company,keyword:this.searchKeyword,time:this.filters.time};if(this.filters.companySeries&&S&&S[this.filters.companySeries])return console.log("检测到公司系列筛选，切换到公司系列API"),void this.fetchCompanySeriesQuestions();console.log("使用标准分页API获取数据"),C.getQuestionsByPage(this.currentPage,this.pageSize,e).then(e=>{console.log("获取到分页数据:",e.data),this.tableData=e.data.data,this.total=e.data.total,this.saveFiltersToSession(),this.$nextTick(()=>{if(this.isRestoringSession){const e=sessionStorage.getItem("scrollPosition");e&&window.scrollTo(0,parseInt(e)),this.isRestoringSession=!1}})}).catch(e=>{console.error("获取面试题失败:",e),this.$message.error("获取面试题失败，请稍后再试")}).finally(()=>{this.loading=!1,console.log("加载状态设置为false，表格数据长度:",this.tableData.length)})},fetchCompanySeriesQuestions(){if(console.log("获取公司系列数据，当前选择的系列:",this.filters.companySeries),!this.filters.companySeries||!S)return console.log("没有选择公司系列或配置不存在，使用普通分页API"),this.fetchPagedQuestions();const e=S[this.filters.companySeries]||[];if(0===e.length)return console.log("所选公司系列没有配置公司列表，使用普通分页API"),this.fetchPagedQuestions();console.log("筛选公司列表:",e.join(", ")),this.loading=!0,C.getQuestionsByCompanies(e).then(e=>{console.log("获取到公司系列数据:",e.data.length+"条记录");let t=Array.isArray(e.data)?[...e.data]:e.data.data?[...e.data.data]:[];if(console.log("过滤前数据条数:",t.length),this.searchKeyword){const e=this.searchKeyword.toLowerCase();t=t.filter(t=>t.title&&t.title.toLowerCase().includes(e)||t.content&&t.content.toLowerCase().includes(e))}if(this.filters.post&&(t=t.filter(e=>e.post===this.filters.post)),this.filters.time){const e=new Date;let o=new Date;switch(this.filters.time){case"week":o.setDate(e.getDate()-7);break;case"month":o.setMonth(e.getMonth()-1);break;case"quarter":o.setMonth(e.getMonth()-3);break;case"year":o.setFullYear(e.getFullYear()-1);break;default:break}t=t.filter(e=>e.editTime&&new Date(e.editTime)>=o)}this.total=t.length;const o=(this.currentPage-1)*this.pageSize,s=o+this.pageSize;this.tableData=t.slice(o,s),this.saveFiltersToSession(),this.isRestoringSession&&this.$nextTick(()=>{const e=sessionStorage.getItem("scrollPosition");e&&window.scrollTo(0,parseInt(e)),this.isRestoringSession=!1})}).catch(e=>{console.error("获取公司系列数据失败:",e),this.$message.error("获取数据失败，请稍后再试")}).finally(()=>{this.loading=!1})},fetchFilterOptions(){C.getFilterOptions().then(e=>{this.filterOptions=e.data;try{localStorage.setItem("filterOptions",JSON.stringify(this.filterOptions)),console.log("筛选选项已缓存到localStorage")}catch(t){console.error("缓存筛选选项失败:",t)}}).catch(e=>{console.error("获取筛选选项失败:",e)})},handleFilterChange(e){const t=this.filters.post!==e.filters.post||this.filters.company!==e.filters.company||this.filters.companySeries!==e.filters.companySeries||this.filters.time!==e.filters.time||this.searchKeyword!==e.keyword;console.log("筛选条件变化:",t,"新值:",e.filters),this.filters=JSON.parse(JSON.stringify(e.filters)),this.searchKeyword=e.keyword,t&&!this.isRestoringSession&&(this.currentPage=1,this.fetchPagedQuestions())},handleKeywordChange(e){this.searchKeyword=e},searchQuestions(){this.currentPage=1,this.fetchPagedQuestions()},handleCurrentChange(e){this.currentPage=e,this.fetchPagedQuestions()},handleSizeChange(e){this.pageSize=e,this.currentPage=1,this.fetchPagedQuestions()},viewQuestion(e){this.saveFiltersToSession(),this.$router.push("/question/"+e)},saveFiltersToSession(){try{const e={post:this.filters.post,company:this.filters.company,companySeries:this.filters.companySeries,time:this.filters.time,searchKeyword:this.searchKeyword,currentPage:this.currentPage,pageSize:this.pageSize};console.log("保存状态到会话:",e),sessionStorage.setItem("questionFilters",JSON.stringify(e)),sessionStorage.setItem("scrollPosition",window.pageYOffset.toString())}catch(e){console.error("保存会话状态失败:",e)}},restoreFiltersFromSession(){try{const e=sessionStorage.getItem("questionFilters");if(e){const t=JSON.parse(e);console.log("恢复筛选条件:",t),this.isRestoringSession=!0,this.filters={post:t.post||"",company:t.company||"",companySeries:t.companySeries||"",time:t.time||""},this.searchKeyword=t.searchKeyword||"",this.currentPage=t.currentPage||1,this.pageSize=t.pageSize||10,console.log("已恢复的筛选条件:",JSON.stringify(this.filters)),console.log("当前的公司系列筛选:",this.filters.companySeries),this.$nextTick(()=>{this.$refs.filtersComponent?(console.log("正在更新筛选组件的状态"),this.$refs.filtersComponent.updateFilters(this.filters,this.searchKeyword),setTimeout(()=>{this.fetchPagedQuestions()},200)):(console.error("找不到filtersComponent引用"),setTimeout(()=>{this.$refs.filtersComponent&&(this.$refs.filtersComponent.updateFilters(this.filters,this.searchKeyword),console.log("延迟更新筛选组件成功")),this.fetchPagedQuestions()},300))})}else this.fetchPagedQuestions()}catch(e){console.error("恢复会话状态失败:",e),this.fetchPagedQuestions()}}}},I=R,M=(o("1571"),Object(r["a"])(I,p,d,!1,null,"521f0760",null)),x=M.exports,N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-detail-container"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"question-container"},[t("div",{staticClass:"back-link"},[t("a",{staticClass:"el-link el-link--primary",attrs:{href:"javascript:;"},on:{click:e.goBack}},[t("i",{staticClass:"el-icon-arrow-left"}),e._v(" 返回列表 ")])]),t("el-card",{staticClass:"question-card"},[e.loading?t("div",{staticClass:"loading-container"},[t("el-skeleton",{attrs:{rows:10,animated:""}})],1):t("div",[t("div",{staticClass:"question-header"},[t("h1",{staticClass:"question-title"},[e._v(e._s(e.question.title))]),t("div",{staticClass:"question-tags"},[e.question.post?t("el-tag",{staticClass:"post-tag",style:e.getPostTagStyle(e.question.post),attrs:{size:"small"}},[e._v(e._s(e.question.post))]):e._e(),e.question.company?t("el-tag",{staticClass:"company-tag",style:e.getCompanyTagStyle(e.question.company),attrs:{size:"small"}},[e._v(e._s(e.question.company))]):e._e()],1),t("div",{staticClass:"question-meta"},[t("span",[t("i",{staticClass:"el-icon-time"}),e._v(" 更新时间："+e._s(e.formatDate(e.question.editTime)))]),t("span",[t("i",{staticClass:"el-icon-view"}),e._v(" 阅读量："+e._s(e.question.read||0))])])]),t("el-divider"),t("div",{staticClass:"question-content",domProps:{innerHTML:e._s(e.formattedContent)}})],1)])],1)])},j=[],J={name:"QuestionDetail",data(){return{question:{},loading:!0,companyColorMap:{"阿里":{color:"#FF4500",bgColor:"#FFF2E8"},"腾讯":{color:"#0078D7",bgColor:"#E6F3FF"},"百度":{color:"#2932E1",bgColor:"#EAEBFB"},"字节":{color:"#00B96B",bgColor:"#E6F8F0"},"美团":{color:"#FFC300",bgColor:"#FFFBE6"},"京东":{color:"#E1251B",bgColor:"#FFECE8"},"华为":{color:"#CF0A2C",bgColor:"#FFEAEE"},"小米":{color:"#FF6700",bgColor:"#FFF0E6"},"滴滴":{color:"#FF7F00",bgColor:"#FFF4E6"},"拼多多":{color:"#E22E1F",bgColor:"#FFECE8"},"网易":{color:"#C40000",bgColor:"#FFE6E6"},"快手":{color:"#00C1DE",bgColor:"#E6FBFF"},"携程":{color:"#2577E3",bgColor:"#E9F2FF"},"蚂蚁":{color:"#1677FF",bgColor:"#E8F4FF"},"微软":{color:"#00A4EF",bgColor:"#E6F7FF"},"谷歌":{color:"#4285F4",bgColor:"#ECF3FF"},"亚马逊":{color:"#FF9900",bgColor:"#FFF7E6"},"苹果":{color:"#A2AAAD",bgColor:"#F5F7F7"},oppo:{color:"#008000",bgColor:"#E6F2E6"},"得物":{color:"#4169E1",bgColor:"#ECF0FC"},"哔哩哔哩":{color:"#FB7299",bgColor:"#FFEEF4"},"互联网":{color:"#909399",bgColor:"#F4F4F5"},"阿里巴巴":{color:"#FF4500",bgColor:"#FFF2E8"}},postColorMap:{"前端":{color:"#1677FF",bgColor:"#E8F4FF"},"后端":{color:"#67C23A",bgColor:"#F0F9EB"},"测开":{color:"#E6A23C",bgColor:"#FDF6EC"},"C++":{color:"#F56C6C",bgColor:"#FEF0F0"},Python:{color:"#3776AB",bgColor:"#EBF0F7"},"算法":{color:"#9C27B0",bgColor:"#F5E9F7"},"数据结构":{color:"#673AB7",bgColor:"#F0EDF7"},SQL:{color:"#00758F",bgColor:"#E6F2F5"},"自然语言处理":{color:"#2196F3",bgColor:"#E9F4FC"}}}},computed:{formattedContent(){return this.question.content?this.question.content.replace(/\n/g,"<br>"):"暂无内容"}},created(){this.fetchQuestionDetail()},methods:{fetchQuestionDetail(){const e=this.$route.params.id;this.loading=!0,this.$http.get("/api/questions/"+e).then(e=>{this.question=e.data,this.loading=!1}).catch(e=>{console.error("获取问题详情失败:",e),this.$message.error("获取问题详情失败，请稍后再试"),this.loading=!1})},goBack(){this.$router.go(-1)},formatDate(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}-${this.padZero(t.getMonth()+1)}-${this.padZero(t.getDate())}`},padZero(e){return e<10?"0"+e:e},getCompanyTagStyle(e){if(!e)return{};let t={color:"#909399",bgColor:"#F4F4F5"};if(this.companyColorMap[e])t=this.companyColorMap[e];else for(const o in this.companyColorMap)if(e.includes(o)||o.includes(e)){t=this.companyColorMap[o];break}if(!t||"#909399"===t.color){const o=[{color:"#409EFF",bgColor:"#ECF5FF"},{color:"#67C23A",bgColor:"#F0F9EB"},{color:"#E6A23C",bgColor:"#FDF6EC"},{color:"#F56C6C",bgColor:"#FEF0F0"},{color:"#909399",bgColor:"#F4F4F5"},{color:"#8B5CF6",bgColor:"#F3F0FF"},{color:"#EC4899",bgColor:"#FCE7F3"},{color:"#F59E0B",bgColor:"#FEF3C7"},{color:"#10B981",bgColor:"#ECFDF5"},{color:"#3B82F6",bgColor:"#EFF6FF"}],s=this.hashString(e)%o.length;t=o[s]}return{backgroundColor:t.bgColor,borderColor:t.color,color:t.color}},getPostTagStyle(e){if(!e)return{};let t={color:"#909399",bgColor:"#F4F4F5"};if(this.postColorMap[e])t=this.postColorMap[e];else for(const o in this.postColorMap)if(e.includes(o)||o.includes(e)){t=this.postColorMap[o];break}if(!t||"#909399"===t.color){const o=[{color:"#409EFF",bgColor:"#ECF5FF"},{color:"#67C23A",bgColor:"#F0F9EB"},{color:"#E6A23C",bgColor:"#FDF6EC"},{color:"#F56C6C",bgColor:"#FEF0F0"},{color:"#909399",bgColor:"#F4F4F5"},{color:"#8B5CF6",bgColor:"#F3F0FF"},{color:"#EC4899",bgColor:"#FCE7F3"},{color:"#F59E0B",bgColor:"#FEF3C7"},{color:"#10B981",bgColor:"#ECFDF5"},{color:"#3B82F6",bgColor:"#EFF6FF"}],s=this.hashString(e)%o.length;t=o[s]}return{backgroundColor:t.bgColor,borderColor:t.color,color:t.color}},hashString(e){let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t&=t;return Math.abs(t)}}},K=J,H=(o("c1a8"),Object(r["a"])(K,N,j,!1,null,"1286e1ea",null)),U=H.exports;s["default"].use(u["a"]);const Y=[{path:"/",name:"Home",component:x},{path:"/question/:id",name:"QuestionDetail",component:U}],Z=new u["a"]({mode:"history",base:"/",routes:Y});var W=Z,G=o("5c96"),X=o.n(G);o("0fae");s["default"].config.productionTip=!1,s["default"].use(X.a),g.a.defaults.baseURL="/api",s["default"].prototype.$http=g.a,new s["default"]({router:W,render:e=>e(c)}).$mount("#app")},8202:function(e,t,o){},"95a4":function(e,t,o){},b3b1:function(e,t,o){"use strict";o("8202")},c1a8:function(e,t,o){"use strict";o("1fc8")},d8ad:function(e,t,o){}});